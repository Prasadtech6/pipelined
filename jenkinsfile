node{
    stage('Checkout'){
        properties([pipelineTriggers([githubPush()])])
         checkout(scm)
	 }
	 stage('build'){
	 echo "build is success"
	 }
	 stage('deploy'){
	 echo " test and deploy "
	}
	{
   when {
    Started by "SCM change"
   }
	stage('email notify'){
	emailext attachLog: true, body: 'job $job has been triggered', compressLog: true, subject: 'Email notification', to: 'prasadtechi6@gmail.com'
	}
 when {
    Started by "SCM change"
   }
}
}
